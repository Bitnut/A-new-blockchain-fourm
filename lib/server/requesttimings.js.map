{"version":3,"sources":["../../src/server/requesttimings.js"],"names":["requestTime","statsLoggerClient","next","state","requestTimer","RequestTimer","request","method","path","finish","module","exports"],"mappings":";;;;;;AAAA;;;;;;AAEA,SAASA,WAAT,CAAqBC,iBAArB,EAAwC;AACpC,oDAAO,iBAAUC,IAAV;AAAA;AAAA;AAAA;AAAA;AACH,iCAAKC,KAAL,CAAWC,YAAX,GAA0B,IAAIC,sBAAJ,CACtBJ,iBADsB,EAEtB,SAFsB,cAGZ,KAAKK,OAAL,CAAaC,MAHD,cAGgB,KAAKD,OAAL,CAAaE,IAH7B,CAA1B;;AADG,0DAOIN,IAPJ;;AAAA;;AASH,iCAAKC,KAAL,CAAWC,YAAX,CAAwBK,MAAxB;;AATG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AAAA;AAWH;;AAEDC,OAAOC,OAAP,GAAiBX,WAAjB","file":"requesttimings.js","sourcesContent":["import RequestTimer from './utils/RequestTimer';\n\nfunction requestTime(statsLoggerClient) {\n    return function*(next) {\n        this.state.requestTimer = new RequestTimer(\n            statsLoggerClient,\n            'request',\n            `method=${this.request.method} path=${this.request.path}`\n        );\n\n        yield* next;\n\n        this.state.requestTimer.finish();\n    };\n}\n\nmodule.exports = requestTime;\n"]}