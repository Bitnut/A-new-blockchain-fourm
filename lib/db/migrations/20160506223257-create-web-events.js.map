{"version":3,"sources":["../../../src/db/migrations/20160506223257-create-web-events.js"],"names":["module","exports","up","queryInterface","Sequelize","createTable","id","allowNull","autoIncrement","primaryKey","type","INTEGER","event_type","STRING","value","user_id","uid","account_name","first_visit","BOOLEAN","new_session","ip","refurl","user_agent","status","city","state","country","channel","referrer","refcode","campaign","adgroupid","adid","keywordid","contentid","created_at","DATE","then","addIndex","down","dropTable"],"mappings":"AAAA;;AACAA,OAAOC,OAAP,GAAiB;AACbC,QAAI,YAASC,cAAT,EAAyBC,SAAzB,EAAoC;AACpC,eAAOD,eACFE,WADE,CACU,YADV,EACwB;AACvBC,gBAAI;AACAC,2BAAW,KADX;AAEAC,+BAAe,IAFf;AAGAC,4BAAY,IAHZ;AAIAC,sBAAMN,UAAUO;AAJhB,aADmB;AAOvBC,wBAAY,EAAEF,MAAMN,UAAUS,MAAV,CAAiB,EAAjB,CAAR,EAPW;AAQvBC,mBAAO,EAAEJ,MAAMN,UAAUS,MAAV,CAAiB,IAAjB,CAAR,EARgB;AASvBE,qBAAS,EAAEL,MAAMN,UAAUO,OAAlB,EATc;AAUvBK,iBAAK,EAAEN,MAAMN,UAAUS,MAAV,CAAiB,EAAjB,CAAR,EAVkB;AAWvBI,0BAAc,EAAEP,MAAMN,UAAUS,MAAV,CAAiB,EAAjB,CAAR,EAXS;AAYvBK,yBAAa,EAAER,MAAMN,UAAUe,OAAlB,EAZU;AAavBC,yBAAa,EAAEV,MAAMN,UAAUe,OAAlB,EAbU;AAcvBE,gBAAI,EAAEX,MAAMN,UAAUS,MAAV,CAAiB,EAAjB,CAAR,EAdmB;AAevBS,oBAAQ,EAAEZ,MAAMN,UAAUS,MAAlB,EAfe;AAgBvBU,wBAAY,EAAEb,MAAMN,UAAUS,MAAlB,EAhBW;AAiBvBW,oBAAQ,EAAEd,MAAMN,UAAUO,OAAlB,EAjBe;AAkBvBc,kBAAM,EAAEf,MAAMN,UAAUS,MAAV,CAAiB,EAAjB,CAAR,EAlBiB;AAmBvBa,mBAAO,EAAEhB,MAAMN,UAAUS,MAAV,CAAiB,EAAjB,CAAR,EAnBgB;AAoBvBc,qBAAS,EAAEjB,MAAMN,UAAUS,MAAV,CAAiB,EAAjB,CAAR,EApBc;AAqBvBe,qBAAS,EAAElB,MAAMN,UAAUS,MAAV,CAAiB,EAAjB,CAAR,EArBc;AAsBvBgB,sBAAU,EAAEnB,MAAMN,UAAUS,MAAV,CAAiB,EAAjB,CAAR,EAtBa;AAuBvBiB,qBAAS,EAAEpB,MAAMN,UAAUS,MAAV,CAAiB,EAAjB,CAAR,EAvBc;AAwBvBkB,sBAAU,EAAErB,MAAMN,UAAUS,MAAV,CAAiB,EAAjB,CAAR,EAxBa;AAyBvBmB,uBAAW,EAAEtB,MAAMN,UAAUO,OAAlB,EAzBY;AA0BvBsB,kBAAM,EAAEvB,MAAMN,UAAUO,OAAlB,EA1BiB;AA2BvBuB,uBAAW,EAAExB,MAAMN,UAAUO,OAAlB,EA3BY;AA4BvBwB,uBAAW,EAAEzB,MAAMN,UAAUO,OAAlB,EA5BY;AA6BvByB,wBAAY;AACR7B,2BAAW,KADH;AAERG,sBAAMN,UAAUiC;AAFR;AA7BW,SADxB,EAmCFC,IAnCE,CAmCG,YAAW;AACbnC,2BAAeoC,QAAf,CAAwB,YAAxB,EAAsC,CAAC,YAAD,CAAtC;AACApC,2BAAeoC,QAAf,CAAwB,YAAxB,EAAsC,CAAC,SAAD,CAAtC;AACApC,2BAAeoC,QAAf,CAAwB,YAAxB,EAAsC,CAAC,KAAD,CAAtC;AACApC,2BAAeoC,QAAf,CAAwB,YAAxB,EAAsC,CAAC,cAAD,CAAtC;AACH,SAxCE,CAAP;AAyCH,KA3CY;AA4CbC,UAAM,cAASrC,cAAT,EAAyBC,SAAzB,EAAoC;AACtC,eAAOD,eAAesC,SAAf,CAAyB,YAAzB,CAAP;AACH;AA9CY,CAAjB","file":"20160506223257-create-web-events.js","sourcesContent":["'use strict';\nmodule.exports = {\n    up: function(queryInterface, Sequelize) {\n        return queryInterface\n            .createTable('web_events', {\n                id: {\n                    allowNull: false,\n                    autoIncrement: true,\n                    primaryKey: true,\n                    type: Sequelize.INTEGER,\n                },\n                event_type: { type: Sequelize.STRING(64) },\n                value: { type: Sequelize.STRING(1024) },\n                user_id: { type: Sequelize.INTEGER },\n                uid: { type: Sequelize.STRING(32) },\n                account_name: { type: Sequelize.STRING(64) },\n                first_visit: { type: Sequelize.BOOLEAN },\n                new_session: { type: Sequelize.BOOLEAN },\n                ip: { type: Sequelize.STRING(48) },\n                refurl: { type: Sequelize.STRING },\n                user_agent: { type: Sequelize.STRING },\n                status: { type: Sequelize.INTEGER },\n                city: { type: Sequelize.STRING(64) },\n                state: { type: Sequelize.STRING(64) },\n                country: { type: Sequelize.STRING(64) },\n                channel: { type: Sequelize.STRING(64) },\n                referrer: { type: Sequelize.STRING(64) },\n                refcode: { type: Sequelize.STRING(64) },\n                campaign: { type: Sequelize.STRING(64) },\n                adgroupid: { type: Sequelize.INTEGER },\n                adid: { type: Sequelize.INTEGER },\n                keywordid: { type: Sequelize.INTEGER },\n                contentid: { type: Sequelize.INTEGER },\n                created_at: {\n                    allowNull: false,\n                    type: Sequelize.DATE,\n                },\n            })\n            .then(function() {\n                queryInterface.addIndex('web_events', ['event_type']);\n                queryInterface.addIndex('web_events', ['user_id']);\n                queryInterface.addIndex('web_events', ['uid']);\n                queryInterface.addIndex('web_events', ['account_name']);\n            });\n    },\n    down: function(queryInterface, Sequelize) {\n        return queryInterface.dropTable('web_events');\n    },\n};\n"]}