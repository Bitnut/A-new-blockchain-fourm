{"version":3,"sources":["../../../src/db/migrations/20160420151336-create-account.js"],"names":["module","exports","up","queryInterface","Sequelize","createTable","id","allowNull","autoIncrement","primaryKey","type","INTEGER","user_id","references","model","key","onUpdate","onDelete","name","STRING","owner_key","active_key","posting_key","memo_key","referrer","refcode","remote_ip","ignored","BOOLEAN","defaultValue","created_at","DATE","updated_at","then","addIndex","indicesType","down","dropTable"],"mappings":";;AAAAA,OAAOC,OAAP,GAAiB;AACbC,QAAI,YAASC,cAAT,EAAyBC,SAAzB,EAAoC;AACpC,eAAOD,eACFE,WADE,CACU,UADV,EACsB;AACrBC,gBAAI;AACAC,2BAAW,KADX;AAEAC,+BAAe,IAFf;AAGAC,4BAAY,IAHZ;AAIAC,sBAAMN,UAAUO;AAJhB,aADiB;AAOrBC,qBAAS;AACLF,sBAAMN,UAAUO,OADX;AAELE,4BAAY;AACRC,2BAAO,OADC;AAERC,yBAAK;AAFG,iBAFP;AAMLC,0BAAU,SANL;AAOLC,0BAAU;AAPL,aAPY;AAgBrBC,kBAAM;AACFR,sBAAMN,UAAUe;AADd,aAhBe;AAmBrBC,uBAAW;AACPV,sBAAMN,UAAUe;AADT,aAnBU;AAsBrBE,wBAAY;AACRX,sBAAMN,UAAUe;AADR,aAtBS;AAyBrBG,yBAAa;AACTZ,sBAAMN,UAAUe;AADP,aAzBQ;AA4BrBI,sBAAU;AACNb,sBAAMN,UAAUe;AADV,aA5BW;AA+BrBK,sBAAU;AACNd,sBAAMN,UAAUe;AADV,aA/BW;AAkCrBM,qBAAS;AACLf,sBAAMN,UAAUe;AADX,aAlCY;AAqCrBO,uBAAW;AACPhB,sBAAMN,UAAUe;AADT,aArCU;AAwCrBQ,qBAAS;AACLjB,sBAAMN,UAAUwB,OADX;AAELC,8BAAc,KAFT;AAGLtB,2BAAW;AAHN,aAxCY;AA6CrBuB,wBAAY;AACRvB,2BAAW,KADH;AAERG,sBAAMN,UAAU2B;AAFR,aA7CS;AAiDrBC,wBAAY;AACRzB,2BAAW,KADH;AAERG,sBAAMN,UAAU2B;AAFR;AAjDS,SADtB,EAuDFE,IAvDE,CAuDG,YAAW;AACb9B,2BAAe+B,QAAf,CAAwB,UAAxB,EAAoC,CAAC,MAAD,CAApC,EAA8C;AAC1CC,6BAAa;AAD6B,aAA9C;AAGAhC,2BAAe+B,QAAf,CAAwB,UAAxB,EAAoC,CAAC,WAAD,CAApC;AACA/B,2BAAe+B,QAAf,CAAwB,UAAxB,EAAoC,CAAC,YAAD,CAApC;AACA/B,2BAAe+B,QAAf,CAAwB,UAAxB,EAAoC,CAAC,aAAD,CAApC;AACA/B,2BAAe+B,QAAf,CAAwB,UAAxB,EAAoC,CAAC,UAAD,CAApC;AACH,SA/DE,CAAP;AAgEH,KAlEY;AAmEbE,UAAM,cAASjC,cAAT,EAAyBC,SAAzB,EAAoC;AACtC,eAAOD,eAAekC,SAAf,CAAyB,UAAzB,CAAP;AACH;AArEY,CAAjB","file":"20160420151336-create-account.js","sourcesContent":["module.exports = {\n    up: function(queryInterface, Sequelize) {\n        return queryInterface\n            .createTable('accounts', {\n                id: {\n                    allowNull: false,\n                    autoIncrement: true,\n                    primaryKey: true,\n                    type: Sequelize.INTEGER,\n                },\n                user_id: {\n                    type: Sequelize.INTEGER,\n                    references: {\n                        model: 'users',\n                        key: 'id',\n                    },\n                    onUpdate: 'cascade',\n                    onDelete: 'cascade',\n                },\n                name: {\n                    type: Sequelize.STRING,\n                },\n                owner_key: {\n                    type: Sequelize.STRING,\n                },\n                active_key: {\n                    type: Sequelize.STRING,\n                },\n                posting_key: {\n                    type: Sequelize.STRING,\n                },\n                memo_key: {\n                    type: Sequelize.STRING,\n                },\n                referrer: {\n                    type: Sequelize.STRING,\n                },\n                refcode: {\n                    type: Sequelize.STRING,\n                },\n                remote_ip: {\n                    type: Sequelize.STRING,\n                },\n                ignored: {\n                    type: Sequelize.BOOLEAN,\n                    defaultValue: false,\n                    allowNull: false,\n                },\n                created_at: {\n                    allowNull: false,\n                    type: Sequelize.DATE,\n                },\n                updated_at: {\n                    allowNull: false,\n                    type: Sequelize.DATE,\n                },\n            })\n            .then(function() {\n                queryInterface.addIndex('accounts', ['name'], {\n                    indicesType: 'UNIQUE',\n                });\n                queryInterface.addIndex('accounts', ['owner_key']);\n                queryInterface.addIndex('accounts', ['active_key']);\n                queryInterface.addIndex('accounts', ['posting_key']);\n                queryInterface.addIndex('accounts', ['memo_key']);\n            });\n    },\n    down: function(queryInterface, Sequelize) {\n        return queryInterface.dropTable('accounts');\n    },\n};\n"]}