{"version":3,"sources":["../../../../src/app/components/elements/FoundationDropdown.jsx"],"names":["FoundationDropdown","props","state","show","closeOnOutsideClick","bind","prevProps","prevState","document","body","addEventListener","removeEventListener","newProps","setState","e","inside_dropdown","target","onHide","className","children","React","Component","propTypes","PropTypes","bool","isRequired","string","any","func"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;;;IAEqBA,kB;;;AAQjB,gCAAYC,KAAZ,EAAmB;AAAA;;AAAA,kKACTA,KADS;;AAEf,cAAKC,KAAL,GAAa,EAAEC,MAAMF,MAAME,IAAd,EAAb;AACA,cAAKC,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBC,IAAzB,OAA3B;AAHe;AAIlB;;;;2CAEkBC,S,EAAWC,S,EAAW;AACrC,gBAAMJ,OAAO,KAAKD,KAAL,CAAWC,IAAxB;AACA,gBAAIA,SAASI,UAAUJ,IAAvB,EAA6B;AACzB,oBAAIA,IAAJ,EACIK,SAASC,IAAT,CAAcC,gBAAd,CACI,WADJ,EAEI,KAAKN,mBAFT,EADJ,KAMII,SAASC,IAAT,CAAcE,mBAAd,CACI,WADJ,EAEI,KAAKP,mBAFT;AAIP;AACJ;;;kDAEyBQ,Q,EAAU;AAChC,gBACIA,SAAST,IAAT,KAAkB,KAAKF,KAAL,CAAWE,IAA7B,IACAS,SAAST,IAAT,KAAkB,KAAKD,KAAL,CAAWC,IAFjC,EAGE;AACE,qBAAKU,QAAL,CAAc,EAAEV,MAAMS,SAAST,IAAjB,EAAd;AACH;AACJ;;;+CAEsB;AACnBK,qBAASC,IAAT,CAAcE,mBAAd,CACI,WADJ,EAEI,KAAKP,mBAFT;AAIH;;;4CAEmBU,C,EAAG;AACnB,gBAAMC,kBAAkB,0BAAWD,EAAEE,MAAb,EAAqB,oBAArB,CAAxB;AACA;AACA,gBAAI,CAACD,eAAL,EAAsB;AAClB,qBAAKF,QAAL,CAAc,EAAEV,MAAM,KAAR,EAAd;AACA,oBAAI,KAAKF,KAAL,CAAWgB,MAAf,EAAuB,KAAKhB,KAAL,CAAWgB,MAAX;AAC1B;AACJ;;;iCAEQ;AACL,gBAAI,CAAC,KAAKf,KAAL,CAAWC,IAAhB,EAAsB,OAAO,IAAP;AADjB,gBAEGe,SAFH,GAEiB,KAAKjB,KAFtB,CAEGiB,SAFH;;AAGL,mBACI;AAAC,kCAAD;AAAA,kBAAU,mCAAiCA,SAA3C;AACK,qBAAKjB,KAAL,CAAWkB;AADhB,aADJ;AAKH;;;EA/D2CC,gBAAMC,S,UAC3CC,S,GAAY;AACfnB,UAAMoB,oBAAUC,IAAV,CAAeC,UADN;AAEfP,eAAWK,oBAAUG,MAFN;AAGfP,cAAUI,oBAAUI,GAHL;AAIfV,YAAQM,oBAAUK;AAJH,C;kBADF5B,kB","file":"FoundationDropdown.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { findParent } from 'app/utils/DomUtils';\nimport { Dropdown } from 'react-foundation-components/lib/global/dropdown';\n\nexport default class FoundationDropdown extends React.Component {\n    static propTypes = {\n        show: PropTypes.bool.isRequired,\n        className: PropTypes.string,\n        children: PropTypes.any,\n        onHide: PropTypes.func,\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = { show: props.show };\n        this.closeOnOutsideClick = this.closeOnOutsideClick.bind(this);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const show = this.state.show;\n        if (show !== prevState.show) {\n            if (show)\n                document.body.addEventListener(\n                    'mousedown',\n                    this.closeOnOutsideClick\n                );\n            else\n                document.body.removeEventListener(\n                    'mousedown',\n                    this.closeOnOutsideClick\n                );\n        }\n    }\n\n    componentWillReceiveProps(newProps) {\n        if (\n            newProps.show !== this.props.show &&\n            newProps.show !== this.state.show\n        ) {\n            this.setState({ show: newProps.show });\n        }\n    }\n\n    componentWillUnmount() {\n        document.body.removeEventListener(\n            'mousedown',\n            this.closeOnOutsideClick\n        );\n    }\n\n    closeOnOutsideClick(e) {\n        const inside_dropdown = findParent(e.target, 'FoundationDropdown');\n        // console.log('-- closeOnOutsideClick -->', e.target, inside_dropdown);\n        if (!inside_dropdown) {\n            this.setState({ show: false });\n            if (this.props.onHide) this.props.onHide();\n        }\n    }\n\n    render() {\n        if (!this.state.show) return null;\n        const { className } = this.props;\n        return (\n            <Dropdown className={`FoundationDropdown ${className}`}>\n                {this.props.children}\n            </Dropdown>\n        );\n    }\n}\n"]}