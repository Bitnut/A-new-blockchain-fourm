{"version":3,"sources":["../../../../../src/app/components/elements/HelpTip/index.jsx"],"names":["HelpTip","props","show","setVisibility","hide","setState","visible","handleTouch","assignOutsideTouchHandler","handler","currentNode","e","target","componentNode","ReactDOM","findDOMNode","refs","instance","parentNode","document","removeEventListener","addEventListener","state","children","content","React","Component","propTypes","PropTypes","any","isRequired","oneOfType","string","array"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;IAEqBA,O;;;AAOjB,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA,4IACTA,KADS;;AAAA,cAOnBC,IAPmB,GAOZ;AAAA,mBAAM,MAAKC,aAAL,CAAmB,IAAnB,CAAN;AAAA,SAPY;;AAAA,cAQnBC,IARmB,GAQZ;AAAA,mBAAM,MAAKD,aAAL,CAAmB,KAAnB,CAAN;AAAA,SARY;;AAAA,cAUnBA,aAVmB,GAUH,mBAAW;AACvB,kBAAKE,QAAL,CAAc;AACVC;AADU,aAAd;AAGH,SAdkB;;AAAA,cAgBnBC,WAhBmB,GAgBL,YAAM;AAChB,kBAAKL,IAAL;AACA,kBAAKM,yBAAL;AACH,SAnBkB;;AAAA,cAqBnBA,yBArBmB,GAqBS,YAAM;AAC9B,gBAAMC,UAAU,SAAVA,OAAU,IAAK;AACjB,oBAAIC,cAAcC,EAAEC,MAApB;AACA,oBAAMC,gBAAgBC,mBAASC,WAAT,CAAqB,MAAKC,IAAL,CAAUC,QAA/B,CAAtB;AACA,uBAAOP,YAAYQ,UAAnB,EAA+B;AAC3B,wBAAIR,gBAAgBG,aAApB,EAAmC;AACnCH,kCAAcA,YAAYQ,UAA1B;AACH;AACD,oBAAIR,gBAAgBS,QAApB,EAA8B;AAC9B,sBAAKf,IAAL;AACAe,yBAASC,mBAAT,CAA6B,YAA7B,EAA2CX,OAA3C;AACH,aAVD;AAWAU,qBAASE,gBAAT,CAA0B,YAA1B,EAAwCZ,OAAxC;AACH,SAlCkB;;AAEf,cAAKa,KAAL,GAAa;AACThB,qBAAS;AADA,SAAb;AAFe;AAKlB;;;;iCA+BQ;AAAA,gBACGL,KADH,GAC6C,IAD7C,CACGA,KADH;AAAA,gBACUqB,KADV,GAC6C,IAD7C,CACUA,KADV;AAAA,gBACiBpB,IADjB,GAC6C,IAD7C,CACiBA,IADjB;AAAA,gBACuBE,IADvB,GAC6C,IAD7C,CACuBA,IADvB;AAAA,gBAC6BG,WAD7B,GAC6C,IAD7C,CAC6BA,WAD7B;;AAEL,mBACI;AAAA;AAAA;AACI,kCAAcL,IADlB;AAEI,kCAAcE,IAFlB;AAGI,kCAAcG,WAHlB;AAII,yBAAI,SAJR;AAKI,+BAAU;AALd;AAOI;AAAA;AAAA,sBAAM,WAAU,iBAAhB;AAAmCN,0BAAMsB;AAAzC,iBAPJ;AAQKD,sBAAMhB,OAAN,IACG;AAAA;AAAA,sBAAK,KAAI,SAAT,EAAmB,WAAU,cAA7B;AACI;AAAA;AAAA;AACI,iCAAI,iBADR;AAEI,uCAAU;AAFd;AAIKL,8BAAMuB;AAJX;AADJ;AATR,aADJ;AAqBH;;;EAlEgCC,gBAAMC,S,UAChCC,S,GAAY;AACfJ,cAAUK,oBAAUC,GAAV,CAAcC,UADT;AAEfN,aAASI,oBAAUG,SAAV,CAAoB,CAACH,oBAAUI,MAAX,EAAmBJ,oBAAUK,KAA7B,CAApB,EACJH;AAHU,C;kBADF9B,O","file":"index.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nexport default class HelpTip extends React.Component {\n    static propTypes = {\n        children: PropTypes.any.isRequired,\n        content: PropTypes.oneOfType([PropTypes.string, PropTypes.array])\n            .isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            visible: false,\n        };\n    }\n\n    show = () => this.setVisibility(true);\n    hide = () => this.setVisibility(false);\n\n    setVisibility = visible => {\n        this.setState({\n            visible,\n        });\n    };\n\n    handleTouch = () => {\n        this.show();\n        this.assignOutsideTouchHandler();\n    };\n\n    assignOutsideTouchHandler = () => {\n        const handler = e => {\n            let currentNode = e.target;\n            const componentNode = ReactDOM.findDOMNode(this.refs.instance);\n            while (currentNode.parentNode) {\n                if (currentNode === componentNode) return;\n                currentNode = currentNode.parentNode;\n            }\n            if (currentNode !== document) return;\n            this.hide();\n            document.removeEventListener('touchstart', handler);\n        };\n        document.addEventListener('touchstart', handler);\n    };\n\n    render() {\n        const { props, state, show, hide, handleTouch } = this;\n        return (\n            <div\n                onMouseEnter={show}\n                onMouseLeave={hide}\n                onTouchStart={handleTouch}\n                ref=\"helptip\"\n                className=\"helptip\"\n            >\n                <span className=\"helptip__target\">{props.children}</span>\n                {state.visible && (\n                    <div ref=\"helptip\" className=\"helptip__box\">\n                        <div\n                            ref=\"helptip-content\"\n                            className=\"helptip__box-content\"\n                        >\n                            {props.content}\n                        </div>\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n"]}