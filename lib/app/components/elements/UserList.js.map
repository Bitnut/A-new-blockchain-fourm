{"version":3,"sources":["../../../../src/app/components/elements/UserList.jsx"],"names":["PER_PAGE","UserList","_setHistoryPagePrevious","newIndex","state","historyIndex","setState","Math","max","_setHistoryPageNext","users","props","title","idx","user_list","map","user","toArray","currentIndex","usersLength","size","limitedIndex","min","reverse","filter","navButtons","React","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,WAAW,EAAjB,C,CALA;;IAOMC,Q;;;AACF,wBAAc;AAAA;;AAAA;;AAAA,cAKdC,uBALc,GAKY,YAAM;AAC5B,gBAAMC,WAAW,MAAKC,KAAL,CAAWC,YAAX,GAA0BL,QAA3C;AACA,kBAAKM,QAAL,CAAc,EAAED,cAAcE,KAAKC,GAAL,CAAS,CAAT,EAAYL,QAAZ,CAAhB,EAAd;AACH,SARa;;AAAA,cAUdM,mBAVc,GAUQ,YAAM;AACxB,gBAAMN,WAAW,MAAKC,KAAL,CAAWC,YAAX,GAA0BL,QAA3C;AACA,kBAAKM,QAAL,CAAc,EAAED,cAAcE,KAAKC,GAAL,CAAS,CAAT,EAAYL,QAAZ,CAAhB,EAAd;AACH,SAba;;AAEV,cAAKC,KAAL,GAAa,EAAEC,cAAc,CAAhB,EAAb;AAFU;AAGb;;;;iCAYQ;AAAA,gBACYA,YADZ,GAC+B,IAD/B,CACGD,KADH,CACYC,YADZ;;AAEL,gBAAMK,QAAQ,KAAKC,KAAL,CAAWD,KAAzB;AACA,gBAAME,QAAQ,KAAKD,KAAL,CAAWC,KAAzB;;AAEA,gBAAIC,MAAM,CAAV;AACA,gBAAIC,YAAYJ,MAAMK,GAAN,CAAU;AAAA,uBACtB,8BAAC,qBAAD,IAAa,MAAMC,IAAnB,EAAyB,KAAKH,KAA9B,GADsB;AAAA,aAAV,CAAhB;AAGAC,wBAAYA,UAAUG,OAAV,EAAZ;;AAEA,gBAAIC,eAAe,CAAC,CAApB;AACA,gBAAMC,cAAcT,MAAMU,IAA1B;AACA,gBAAMC,eAAed,KAAKe,GAAL,CAASjB,YAAT,EAAuBc,cAAcnB,QAArC,CAArB;AACAc,wBAAYA,UAAUS,OAAV,GAAoBC,MAApB,CAA2B,YAAM;AACzCN;AACA,uBACIA,gBAAgBG,YAAhB,IACAH,eAAeG,eAAerB,QAFlC;AAIH,aANW,CAAZ;;AAQA,gBAAMyB,aACF;AAAA;AAAA;AACI;AAAA;AAAA,sBAAI,WAAU,OAAd;AACI;AAAA;AAAA;AACI;AAAA;AAAA;AACI,2CACI,oCACCpB,iBAAiB,CAAjB,GAAqB,WAArB,GAAmC,EADpC,CAFR;AAKI,yCAAS,KAAKH,uBALlB;AAMI,8CAAY,2BAAG,YAAH;AANhB;AAQI;AAAA;AAAA,kCAAM,eAAY,MAAlB;AAAA;AACY,2DAAG,YAAH;AADZ;AARJ;AADJ,qBADJ;AAeI;AAAA;AAAA;AACI;AAAA;AAAA;AACI,2CACI,qCACCG,gBAAgBc,cAAcnB,QAA9B,GACK,WADL,GAEK,EAHN,CAFR;AAOI,yCACIK,gBAAgBc,cAAcnB,QAA9B,GACM,IADN,GAEM,KAAKS,mBAVnB;AAYI,8CAAY,2BAAG,QAAH;AAZhB;AAcI;AAAA;AAAA,kCAAM,eAAY,MAAlB;AACK,2DAAG,QAAH,CADL;AAAA;AAAA;AAdJ;AADJ;AAfJ;AADJ,aADJ;;AAyCA,mBACI;AAAA;AAAA,kBAAK,WAAU,UAAf;AACI;AAAA;AAAA,sBAAK,WAAU,KAAf;AACI;AAAA;AAAA,0BAAK,WAAU,iBAAf;AACI;AAAA;AAAA;AAAKG;AAAL,yBADJ;AAEKa,kCAFL;AAGI;AAAA;AAAA;AACI;AAAA;AAAA;AAAQX;AAAR;AADJ,yBAHJ;AAMKW;AANL;AADJ;AADJ,aADJ;AAcH;;;EA7FkBC,gBAAMC,S;;kBAgGd1B,Q","file":"UserList.js","sourcesContent":["/* eslint react/prop-types: 0 */\nimport React from 'react';\nimport UserListRow from 'app/components/cards/UserListRow';\nimport tt from 'counterpart';\n\nconst PER_PAGE = 50;\n\nclass UserList extends React.Component {\n    constructor() {\n        super();\n        this.state = { historyIndex: 0 };\n    }\n\n    _setHistoryPagePrevious = () => {\n        const newIndex = this.state.historyIndex - PER_PAGE;\n        this.setState({ historyIndex: Math.max(0, newIndex) });\n    };\n\n    _setHistoryPageNext = () => {\n        const newIndex = this.state.historyIndex + PER_PAGE;\n        this.setState({ historyIndex: Math.max(0, newIndex) });\n    };\n\n    render() {\n        const { state: { historyIndex } } = this;\n        const users = this.props.users;\n        const title = this.props.title;\n\n        let idx = 0;\n        let user_list = users.map(user => (\n            <UserListRow user={user} key={idx++} />\n        ));\n        user_list = user_list.toArray();\n\n        let currentIndex = -1;\n        const usersLength = users.size;\n        const limitedIndex = Math.min(historyIndex, usersLength - PER_PAGE);\n        user_list = user_list.reverse().filter(() => {\n            currentIndex++;\n            return (\n                currentIndex >= limitedIndex &&\n                currentIndex < limitedIndex + PER_PAGE\n            );\n        });\n\n        const navButtons = (\n            <nav>\n                <ul className=\"pager\">\n                    <li>\n                        <div\n                            className={\n                                'button tiny hollow float-left ' +\n                                (historyIndex === 0 ? ' disabled' : '')\n                            }\n                            onClick={this._setHistoryPagePrevious}\n                            aria-label={tt('g.previous')}\n                        >\n                            <span aria-hidden=\"true\">\n                                &larr; {tt('g.previous')}\n                            </span>\n                        </div>\n                    </li>\n                    <li>\n                        <div\n                            className={\n                                'button tiny hollow float-right ' +\n                                (historyIndex >= usersLength - PER_PAGE\n                                    ? ' disabled'\n                                    : '')\n                            }\n                            onClick={\n                                historyIndex >= usersLength - PER_PAGE\n                                    ? null\n                                    : this._setHistoryPageNext\n                            }\n                            aria-label={tt('g.next')}\n                        >\n                            <span aria-hidden=\"true\">\n                                {tt('g.next')} &rarr;\n                            </span>\n                        </div>\n                    </li>\n                </ul>\n            </nav>\n        );\n\n        return (\n            <div className=\"UserList\">\n                <div className=\"row\">\n                    <div className=\"column small-12\">\n                        <h3>{title}</h3>\n                        {navButtons}\n                        <table>\n                            <tbody>{user_list}</tbody>\n                        </table>\n                        {navButtons}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default UserList;\n"]}