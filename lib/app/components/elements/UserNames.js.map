{"version":3,"sources":["../../../../src/app/components/elements/UserNames.jsx"],"names":["userLink","name","UserNames","props","names","size","length","and_names","splice","out","i","push","map","value","link","Component","propTypes","PropTypes","array","number","defaultProps","state","ownProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AAEA,SAASA,QAAT,CAAkBC,IAAlB,EAAwB;AACpB,WACI;AAAC,yBAAD;AAAA,UAAM,WAAU,UAAhB,EAA2B,KAAKA,IAAhC,EAAsC,IAAI,OAAOA,IAAjD;AACKA;AADL,KADJ;AAKH;;IAEKC,S;;;;;;;;;;iCASO;AAAA,yBACiB,KAAKC,KADtB;AAAA,gBACCC,KADD,UACCA,KADD;AAAA,gBACQC,IADR,UACQA,IADR;;;AAGL,gBAAI,CAACD,KAAL,EAAY;AACR,uBAAO,IAAP;AACH;;AAED;AACA,gBAAIC,QAAQD,MAAME,MAAlB,EAA0B;AACtB;AACAD,uBAAOD,MAAME,MAAN,GAAe,CAAtB;AACH;;AAED;AACA,gBAAIC,YAAYF,QAAQ,CAAR,GAAY,EAAZ,GAAiBD,MAAMI,MAAN,CAAaH,IAAb,CAAjC;;AAEA,gBAAII,MAAM,EAAV;;AAEA;AACA,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIN,MAAME,MAA1B,EAAkCI,GAAlC,EAAuC;AACnC,oBAAIA,IAAI,CAAR,EAAWD,IAAIE,IAAJ,CAAS;AAAA;AAAA,sBAAM,KAAK,WAAWD,CAAtB;AAAA;AAAA,iBAAT;AACXD,oBAAIE,IAAJ,CAASX,SAASI,MAAMM,CAAN,CAAT,CAAT;AACH;;AAED;AACA,gBAAIH,UAAUD,MAAV,GAAmB,CAAvB,EAA0B;AACtBG,oBAAIE,IAAJ,CAAS;AAAA;AAAA,sBAAM,KAAI,MAAV;AAAA;AAAA,iBAAT;AACA,oBAAIJ,UAAUD,MAAV,IAAoB,CAAxB,EAA2B;AACvB;AACAG,wBAAIE,IAAJ,CAASX,SAASO,UAAU,CAAV,CAAT,CAAT;AACH,iBAHD,MAGO;AACH;AACAE,wBAAIE,IAAJ,CACI,8BAAC,sBAAD;AACI,6BAAI,SADR;AAEI,kCAAUJ,UAAUD,MAAV,GAAmB,SAFjC;AAGI,+BAAOC,UAAUK,GAAV,CAAc,gBAAQ;AACzB,mCAAO,EAAEC,OAAOZ,IAAT,EAAea,MAAM,OAAOb,IAA5B,EAAP;AACH,yBAFM,CAHX;AAMI,4BAAG;AANP,sBADJ;AAUH;AACJ;;AAED,mBAAO;AAAA;AAAA,kBAAM,WAAU,WAAhB;AAA6BQ;AAA7B,aAAP;AACH;;;EAvDmBM,gB,UACbC,S,GAAY;AACfZ,WAAOa,oBAAUC,KADF;AAEfb,UAAMY,oBAAUE;AAFD,C,SAIZC,Y,GAAe;AAClBf,UAAM;AADY,C;kBAqDX,yBAAQ,UAACgB,KAAD,EAAQC,QAAR;AAAA,WAAqBA,QAArB;AAAA,CAAR,EAAuCpB,SAAvC,C","file":"UserNames.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport DropdownMenu from 'app/components/elements/DropdownMenu';\nimport { Link } from 'react-router';\n\nfunction userLink(name) {\n    return (\n        <Link className=\"username\" key={name} to={'/@' + name}>\n            {name}\n        </Link>\n    );\n}\n\nclass UserNames extends Component {\n    static propTypes = {\n        names: PropTypes.array,\n        size: PropTypes.number,\n    };\n    static defaultProps = {\n        size: 2,\n    };\n\n    render() {\n        let { names, size } = this.props;\n\n        if (!names) {\n            return null;\n        }\n\n        // `size` is max number of names to list before \"and <x>\"\n        if (size >= names.length) {\n            // enforce bounds\n            size = names.length - 1;\n        }\n\n        // if size == 0, there is no \"and\" in the output\n        let and_names = size == 0 ? [] : names.splice(size);\n\n        let out = [];\n\n        // build first portion of output: \"name1, name2, name3\"\n        for (var i = 0; i < names.length; i++) {\n            if (i > 0) out.push(<span key={'_comma' + i}>, </span>);\n            out.push(userLink(names[i]));\n        }\n\n        // build suffix: \" and name4\" or \" and 3 others\" (dropdown if and_names > 1)\n        if (and_names.length > 0) {\n            out.push(<span key=\"_and\"> and </span>);\n            if (and_names.length == 1) {\n                // and <name>\n                out.push(userLink(and_names[0]));\n            } else {\n                // and <x> others...\n                out.push(\n                    <DropdownMenu\n                        key=\"_others\"\n                        selected={and_names.length + ' others'}\n                        items={and_names.map(name => {\n                            return { value: name, link: '/@' + name };\n                        })}\n                        el=\"div\"\n                    />\n                );\n            }\n        }\n\n        return <span className=\"UserNames\">{out}</span>;\n    }\n}\n\nexport default connect((state, ownProps) => ownProps)(UserNames);\n"]}