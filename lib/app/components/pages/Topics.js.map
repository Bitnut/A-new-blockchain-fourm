{"version":3,"sources":["../../../../src/app/components/pages/Topics.jsx"],"names":["Topics","order","current","compact","className","username","categories","handleChange","browserHistory","push","selectedOption","value","currentlySelected","currentTag","currentOrder","opts","feed","tagOnly","orderOnly","tagWithOrder","default","extras","ex","allTags","label","myFeed","name","concat","map","link","cat","toJS","categoriesLinks","propTypes","PropTypes","object","isRequired","string","bool","defaultProps"],"mappings":"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","file":"Topics.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router';\nimport { connect } from 'react-redux';\nimport { browserHistory } from 'react-router';\nimport tt from 'counterpart';\nimport PropTypes from 'prop-types';\nimport NativeSelect from 'app/components/elements/NativeSelect';\n\nconst Topics = ({\n    order,\n    current,\n    compact,\n    className,\n    username,\n    categories,\n}) => {\n    const handleChange = selectedOption => {\n        browserHistory.push(selectedOption.value);\n    };\n\n    const currentlySelected = (currentTag, username, currentOrder = false) => {\n        const opts = {\n            feed: `/@${username}/feed`,\n            tagOnly: `/trending/${currentTag}`,\n            orderOnly: `/${currentOrder}`,\n            tagWithOrder: `/${currentOrder}/${currentTag}`,\n            default: `/trending`,\n        };\n        if (currentTag === 'feed') return opts['feed'];\n        if (currentTag && currentOrder) return opts['tagWithOrder'];\n        if (!currentTag && currentOrder) return opts['orderOnly'];\n        if (currentTag && !currentOrder) return opts['tagOnly'];\n        return opts['default'];\n    };\n\n    if (compact) {\n        const extras = username => {\n            const ex = {\n                allTags: order => ({\n                    value: `/${order}`,\n                    label: `${tt('g.all_tags_mobile')}`,\n                }),\n                myFeed: name => ({\n                    value: `/@${name}/feed`,\n                    label: `${tt('g.my_feed')}`,\n                }),\n            };\n            return username\n                ? [ex.allTags(order), ex.myFeed(username)]\n                : [ex.allTags(order)];\n        };\n\n        const opts = extras(username).concat(\n            categories\n                .map(cat => {\n                    const link = order ? `/${order}/${cat}` : `/${cat}`;\n                    return { value: link, label: cat };\n                })\n                .toJS()\n        );\n\n        return (\n            <NativeSelect\n                currentlySelected={currentlySelected(current, username, order)}\n                options={opts}\n                onChange={handleChange}\n            />\n        );\n    } else {\n        const categoriesLinks = categories.map(cat => {\n            const link = order ? `/${order}/${cat}` : `/hot/${cat}`;\n            return (\n                <li className=\"c-sidebar__list-item\" key={cat}>\n                    <Link\n                        to={link}\n                        className=\"c-sidebar__link\"\n                        activeClassName=\"active\"\n                    >\n                        {cat}\n                    </Link>\n                </li>\n            );\n        });\n        return (\n            <div className=\"c-sidebar__module\">\n                <div className=\"c-sidebar__content\">\n                    <ul className=\"c-sidebar__list\">\n                        <li className=\"c-sidebar__list-item\">\n                            <div className=\"c-sidebar__header\">\n                                <Link\n                                    to={'/' + order}\n                                    className=\"c-sidebar__link\"\n                                    activeClassName=\"active\"\n                                >\n                                    {tt('g.all_tags')}\n                                </Link>\n                            </div>\n                        </li>\n                        {categoriesLinks}\n                        <li className=\"c-sidebar__link\">\n                            <Link\n                                className=\"c-sidebar__link c-sidebar__link--emphasis\"\n                                to={`/tags`}\n                            >\n                                {tt('g.show_more_topics')}..\n                            </Link>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n};\n\nTopics.propTypes = {\n    categories: PropTypes.object.isRequired,\n    order: PropTypes.string.isRequired,\n    current: PropTypes.string,\n    compact: PropTypes.bool.isRequired,\n};\n\nTopics.defaultProps = {\n    current: '',\n};\n\nexport default Topics;\n"]}