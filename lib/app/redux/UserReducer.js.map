{"version":3,"sources":["../../../src/app/redux/UserReducer.js"],"names":["reducer","SHOW_LOGIN","HIDE_LOGIN","SHOW_TERMS","ACCEPT_TERMS","SAVE_LOGIN_CONFIRM","SAVE_LOGIN","REMOVE_HIGH_SECURITY_KEYS","CHANGE_LANGUAGE","SHOW_TRANSFER","HIDE_TRANSFER","SHOW_POWERDOWN","HIDE_POWERDOWN","SHOW_PROMOTE_POST","HIDE_PROMOTE_POST","SET_TRANSFER_DEFAULTS","CLEAR_TRANSFER_DEFAULTS","SET_POWERDOWN_DEFAULTS","CLEAR_POWERDOWN_DEFAULTS","USERNAME_PASSWORD_LOGIN","SET_USER","CLOSE_LOGIN","LOGIN_ERROR","LOGOUT","SET_LATEST_FEED_PRICE","SHOW_SIGN_UP","HIDE_SIGN_UP","KEYS_ERROR","ACCOUNT_AUTH_LOOKUP","SET_AUTHORITY","HIDE_CONNECTION_ERROR_MODAL","SET","SHOW_SIDE_PANEL","HIDE_SIDE_PANEL","SHOW_POST_ADVANCED_SETTINGS","HIDE_POST_ADVANCED_SETTINGS","HIDE_ANNOUNCEMENT","SHOW_ANNOUNCEMENT","LOAD_SAVINGS_WITHDRAW","UPLOAD_IMAGE","defaultState","current","show_login_modal","show_transfer_modal","show_promote_post_modal","show_signup_modal","show_post_advanced_settings_modal","pub_keys_used","locale","DEFAULT_LANGUAGE","show_side_panel","maybeLoggedIn","showAnnouncement","state","action","payload","type","operation","loginDefault","merge","login_type","loginBroadcastOperation","set","undefined","termsDefault","show_terms_modal","hasIn","empty","updateIn","private_keys","has","console","log","delete","size","logged_out","username","getIn","setIn","remove","vesting_shares","parseFloat","delegated_vesting_shares","received_vesting_shares","mergeDeep","login_error","error","keys_error","accountName","auth","Array","isArray","key","value","formId","sessionStorage","setItem","showLogin","hideLogin","showTerms","acceptTerms","saveLoginConfirm","saveLogin","removeHighSecurityKeys","changeLanguage","showTransfer","hideTransfer","showPowerdown","hidePowerdown","showPromotePost","hidePromotePost","setTransferDefaults","clearTransferDefaults","setPowerdownDefaults","clearPowerdownDefaults","usernamePasswordLogin","setUser","closeLogin","loginError","logout","showSignUp","hideSignUp","keysError","accountAuthLookup","setAuthority","setLatestFeedPrice","hideConnectionErrorModal","loadSavingsWithdraw","uploadImage","showSidePanel","hideSidePanel","showPostAdvancedSettings","hidePostAdvancedSettings","hideAnnouncement"],"mappings":"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","file":"UserReducer.js","sourcesContent":["import { fromJS } from 'immutable';\nimport { DEFAULT_LANGUAGE } from 'app/client_config';\n\n// Action constants\nconst SHOW_LOGIN = 'user/SHOW_LOGIN';\nconst HIDE_LOGIN = 'user/HIDE_LOGIN';\nconst SHOW_TERMS = 'user/SHOW_TERMS';\nexport const ACCEPT_TERMS = 'user/ACCEPT_TERMS';\nexport const SAVE_LOGIN_CONFIRM = 'user/SAVE_LOGIN_CONFIRM';\nexport const SAVE_LOGIN = 'user/SAVE_LOGIN';\nconst REMOVE_HIGH_SECURITY_KEYS = 'user/REMOVE_HIGH_SECURITY_KEYS';\nconst CHANGE_LANGUAGE = 'user/CHANGE_LANGUAGE';\nconst SHOW_TRANSFER = 'user/SHOW_TRANSFER';\nconst HIDE_TRANSFER = 'user/HIDE_TRANSFER';\nconst SHOW_POWERDOWN = 'user/SHOW_POWERDOWN';\nconst HIDE_POWERDOWN = 'user/HIDE_POWERDOWN';\nconst SHOW_PROMOTE_POST = 'user/SHOW_PROMOTE_POST';\nconst HIDE_PROMOTE_POST = 'user/HIDE_PROMOTE_POST';\nconst SET_TRANSFER_DEFAULTS = 'user/SET_TRANSFER_DEFAULTS';\nconst CLEAR_TRANSFER_DEFAULTS = 'user/CLEAR_TRANSFER_DEFAULTS';\nconst SET_POWERDOWN_DEFAULTS = 'user/SET_POWERDOWN_DEFAULTS';\nconst CLEAR_POWERDOWN_DEFAULTS = 'user/CLEAR_POWERDOWN_DEFAULTS';\nexport const USERNAME_PASSWORD_LOGIN = 'user/USERNAME_PASSWORD_LOGIN';\nexport const SET_USER = 'user/SET_USER';\nconst CLOSE_LOGIN = 'user/CLOSE_LOGIN';\nexport const LOGIN_ERROR = 'user/LOGIN_ERROR';\nexport const LOGOUT = 'user/LOGOUT';\nconst SET_LATEST_FEED_PRICE = 'user/SET_LATEST_FEED_PRICE';\nconst SHOW_SIGN_UP = 'user/SHOW_SIGN_UP';\nconst HIDE_SIGN_UP = 'user/HIDE_SIGN_UP';\nconst KEYS_ERROR = 'user/KEYS_ERROR';\nconst ACCOUNT_AUTH_LOOKUP = 'user/ACCOUNT_AUTH_LOOKUP';\nconst SET_AUTHORITY = 'user/SET_AUTHORITY';\nconst HIDE_CONNECTION_ERROR_MODAL = 'user/HIDE_CONNECTION_ERROR_MODAL';\nconst SET = 'user/SET';\nconst SHOW_SIDE_PANEL = 'user/SHOW_SIDE_PANEL';\nconst HIDE_SIDE_PANEL = 'user/HIDE_SIDE_PANEL';\nconst SHOW_POST_ADVANCED_SETTINGS = 'user/SHOW_POST_ADVANCED_SETTINGS';\nconst HIDE_POST_ADVANCED_SETTINGS = 'user/HIDE_POST_ADVANCED_SETTINGS';\nconst HIDE_ANNOUNCEMENT = 'user/HIDE_ANNOUNCEMENT';\nconst SHOW_ANNOUNCEMENT = 'user/SHOW_ANNOUNCEMENT';\n\n// Saga-related\nexport const LOAD_SAVINGS_WITHDRAW = 'user/LOAD_SAVINGS_WITHDRAW';\nexport const UPLOAD_IMAGE = 'user/UPLOAD_IMAGE';\n\nconst defaultState = fromJS({\n    current: null,\n    show_login_modal: false,\n    show_transfer_modal: false,\n    show_promote_post_modal: false,\n    show_signup_modal: false,\n    show_post_advanced_settings_modal: '', // formId\n    pub_keys_used: null,\n    locale: DEFAULT_LANGUAGE,\n    show_side_panel: false,\n    maybeLoggedIn: false,\n    showAnnouncement: false,\n});\n\nexport default function reducer(state = defaultState, action) {\n    const payload = action.payload;\n\n    switch (action.type) {\n        case SHOW_LOGIN: {\n            let operation, loginDefault;\n            if (payload) {\n                operation = fromJS(payload.operation);\n                loginDefault = fromJS(payload.loginDefault);\n            }\n            return state.merge({\n                show_login_modal: true,\n                login_type: payload.type,\n                loginBroadcastOperation: operation,\n                loginDefault,\n            });\n        }\n\n        case SET_LATEST_FEED_PRICE:\n            return state.set('latest_feed_price', payload);\n\n        case HIDE_LOGIN:\n            return state.merge({\n                show_login_modal: false,\n                loginBroadcastOperation: undefined,\n                loginDefault: undefined,\n            });\n\n        case SHOW_TERMS: {\n            let termsDefault;\n            if (payload) {\n                termsDefault = fromJS(payload.termsDefault);\n            }\n            return state.merge({\n                show_terms_modal: true,\n                termsDefault,\n            });\n        }\n\n        case ACCEPT_TERMS:\n            return state.merge({\n                show_terms_modal: false,\n                termsDefault: undefined,\n            });\n\n        case SAVE_LOGIN_CONFIRM:\n            return state.set('saveLoginConfirm', payload);\n\n        case SAVE_LOGIN:\n            // Use only for low security keys (like posting only keys)\n            return state;\n\n        case REMOVE_HIGH_SECURITY_KEYS: {\n            if (!state.hasIn(['current', 'private_keys'])) return state;\n            let empty = false;\n            state = state.updateIn(\n                ['current', 'private_keys'],\n                private_keys => {\n                    if (!private_keys) return null;\n                    if (private_keys.has('active_private'))\n                        console.log('removeHighSecurityKeys');\n                    private_keys = private_keys.delete('active_private');\n                    empty = private_keys.size === 0;\n                    return private_keys;\n                }\n            );\n            if (empty) {\n                // LOGOUT\n                return defaultState.merge({ logged_out: true });\n            }\n            const username = state.getIn(['current', 'username']);\n            state = state.setIn(['authority', username, 'active'], 'none');\n            state = state.setIn(['authority', username, 'owner'], 'none');\n            return state;\n        }\n\n        case CHANGE_LANGUAGE:\n            return state.set('locale', payload);\n\n        case SHOW_TRANSFER:\n            return state.set('show_transfer_modal', true);\n\n        case HIDE_TRANSFER:\n            return state.set('show_transfer_modal', false);\n\n        case SHOW_POWERDOWN:\n            return state.set('show_powerdown_modal', true);\n\n        case HIDE_POWERDOWN:\n            return state.set('show_powerdown_modal', false);\n\n        case SHOW_PROMOTE_POST:\n            return state.set('show_promote_post_modal', true);\n\n        case HIDE_PROMOTE_POST:\n            return state.set('show_promote_post_modal', false);\n\n        case SET_TRANSFER_DEFAULTS:\n            return state.set('transfer_defaults', fromJS(payload));\n\n        case CLEAR_TRANSFER_DEFAULTS:\n            return state.remove('transfer_defaults');\n\n        case SET_POWERDOWN_DEFAULTS:\n            return state.set('powerdown_defaults', fromJS(payload));\n\n        case CLEAR_POWERDOWN_DEFAULTS:\n            return state.remove('powerdown_defaults');\n\n        case USERNAME_PASSWORD_LOGIN:\n        case LOAD_SAVINGS_WITHDRAW:\n            return state; // saga\n\n        case SET_USER:\n            if (payload.vesting_shares)\n                payload.vesting_shares = parseFloat(payload.vesting_shares);\n            if (payload.delegated_vesting_shares)\n                payload.delegated_vesting_shares = parseFloat(\n                    payload.delegated_vesting_shares\n                );\n            if (payload.received_vesting_shares)\n                payload.received_vesting_shares = parseFloat(\n                    payload.received_vesting_shares\n                );\n            return state.mergeDeep({\n                current: payload,\n                show_login_modal: false,\n                loginBroadcastOperation: undefined,\n                loginDefault: undefined,\n                logged_out: undefined,\n            });\n\n        case CLOSE_LOGIN:\n            return state.merge({\n                login_error: undefined,\n                show_login_modal: false,\n                loginBroadcastOperation: undefined,\n                loginDefault: undefined,\n            });\n\n        case LOGIN_ERROR:\n            return state.merge({\n                login_error: payload.error,\n                logged_out: undefined,\n            });\n\n        case LOGOUT:\n            return defaultState.merge({ logged_out: true });\n\n        case SHOW_SIGN_UP:\n            return state.set('show_signup_modal', true);\n\n        case HIDE_SIGN_UP:\n            return state.set('show_signup_modal', false);\n\n        case KEYS_ERROR:\n            return state.merge({ keys_error: payload.error });\n\n        case ACCOUNT_AUTH_LOOKUP:\n            // AuthSaga\n            return state;\n\n        case SET_AUTHORITY: {\n            // AuthSaga\n            const { accountName, auth, pub_keys_used } = payload;\n            state = state.setIn(['authority', accountName], fromJS(auth));\n            if (pub_keys_used)\n                state = state.set('pub_keys_used', pub_keys_used);\n            return state;\n        }\n\n        case HIDE_CONNECTION_ERROR_MODAL:\n            return state.set('hide_connection_error_modal', true);\n\n        case SET:\n            return state.setIn(\n                Array.isArray(payload.key) ? payload.key : [payload.key],\n                fromJS(payload.value)\n            );\n\n        case SHOW_SIDE_PANEL:\n            return state.set('show_side_panel', true);\n\n        case HIDE_SIDE_PANEL:\n            return state.set('show_side_panel', false);\n\n        case SHOW_POST_ADVANCED_SETTINGS:\n            return state.set(\n                'show_post_advanced_settings_modal',\n                payload.formId\n            );\n\n        case HIDE_POST_ADVANCED_SETTINGS:\n            return state.set('show_post_advanced_settings_modal', '');\n\n        case SHOW_ANNOUNCEMENT:\n            typeof sessionStorage !== 'undefined' &&\n                sessionStorage.setItem('hideAnnouncement', 'false');\n            return state.set('showAnnouncement', true);\n\n        case HIDE_ANNOUNCEMENT:\n            typeof sessionStorage !== 'undefined' &&\n                sessionStorage.setItem('hideAnnouncement', 'true');\n            return state.set('showAnnouncement', false);\n\n        default:\n            return state;\n    }\n}\n\n// Action creators\nexport const showLogin = payload => ({\n    type: SHOW_LOGIN,\n    payload,\n});\n\nexport const hideLogin = payload => ({\n    type: HIDE_LOGIN,\n    payload,\n});\n\nexport const showTerms = payload => ({\n    type: SHOW_TERMS,\n    payload,\n});\n\nexport const acceptTerms = () => ({ type: ACCEPT_TERMS });\n\nexport const saveLoginConfirm = payload => ({\n    type: SAVE_LOGIN_CONFIRM,\n    payload,\n});\n\nexport const saveLogin = payload => ({\n    type: SAVE_LOGIN,\n    payload,\n});\n\nexport const removeHighSecurityKeys = payload => ({\n    type: REMOVE_HIGH_SECURITY_KEYS,\n    payload,\n});\n\nexport const changeLanguage = payload => ({\n    type: CHANGE_LANGUAGE,\n    payload,\n});\n\nexport const showTransfer = payload => ({\n    type: SHOW_TRANSFER,\n    payload,\n});\n\nexport const hideTransfer = payload => ({\n    type: HIDE_TRANSFER,\n    payload,\n});\n\nexport const showPowerdown = payload => ({\n    type: SHOW_POWERDOWN,\n    payload,\n});\n\nexport const hidePowerdown = payload => ({\n    type: HIDE_POWERDOWN,\n    payload,\n});\n\nexport const showPromotePost = payload => ({\n    type: SHOW_PROMOTE_POST,\n    payload,\n});\n\nexport const hidePromotePost = payload => ({\n    type: HIDE_PROMOTE_POST,\n    payload,\n});\n\nexport const setTransferDefaults = payload => ({\n    type: SET_TRANSFER_DEFAULTS,\n    payload,\n});\n\nexport const clearTransferDefaults = payload => ({\n    type: CLEAR_TRANSFER_DEFAULTS,\n    payload,\n});\n\nexport const setPowerdownDefaults = payload => ({\n    type: SET_POWERDOWN_DEFAULTS,\n    payload,\n});\n\nexport const clearPowerdownDefaults = payload => ({\n    type: CLEAR_POWERDOWN_DEFAULTS,\n    payload,\n});\n\nexport const usernamePasswordLogin = payload => ({\n    type: USERNAME_PASSWORD_LOGIN,\n    payload,\n});\n\nexport const setUser = payload => ({\n    type: SET_USER,\n    payload,\n});\n\nexport const closeLogin = payload => ({\n    type: CLOSE_LOGIN,\n    payload,\n});\n\nexport const loginError = payload => ({\n    type: LOGIN_ERROR,\n    payload,\n});\n\nexport const logout = payload => ({\n    type: LOGOUT,\n    payload,\n});\n\nexport const showSignUp = payload => ({\n    type: SHOW_SIGN_UP,\n    payload,\n});\n\nexport const hideSignUp = payload => ({\n    type: HIDE_SIGN_UP,\n    payload,\n});\n\nexport const keysError = payload => ({\n    type: KEYS_ERROR,\n    payload,\n});\n\nexport const accountAuthLookup = payload => ({\n    type: ACCOUNT_AUTH_LOOKUP,\n    payload,\n});\n\nexport const setAuthority = payload => ({\n    type: SET_AUTHORITY,\n    payload,\n});\n\nexport const setLatestFeedPrice = payload => ({\n    type: SET_LATEST_FEED_PRICE,\n    payload,\n});\n\nexport const hideConnectionErrorModal = payload => ({\n    type: HIDE_CONNECTION_ERROR_MODAL,\n    payload,\n});\n\nexport const set = payload => ({\n    type: SET,\n    payload,\n});\n\nexport const loadSavingsWithdraw = payload => ({\n    type: LOAD_SAVINGS_WITHDRAW,\n    payload,\n});\n\nexport const uploadImage = payload => ({\n    type: UPLOAD_IMAGE,\n    payload,\n});\n\nexport const showSidePanel = () => ({\n    type: SHOW_SIDE_PANEL,\n});\n\nexport const hideSidePanel = () => {\n    return {\n        type: HIDE_SIDE_PANEL,\n    };\n};\n\nexport const showPostAdvancedSettings = payload => ({\n    type: SHOW_POST_ADVANCED_SETTINGS,\n    payload,\n});\n\nexport const hidePostAdvancedSettings = () => ({\n    type: HIDE_POST_ADVANCED_SETTINGS,\n});\n\nexport const hideAnnouncement = () => ({\n    type: HIDE_ANNOUNCEMENT,\n});\n\nexport const showAnnouncement = () => ({\n    type: SHOW_ANNOUNCEMENT,\n});\n"]}