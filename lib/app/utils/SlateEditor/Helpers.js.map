{"version":3,"sources":["../../../../src/app/utils/SlateEditor/Helpers.js"],"names":["findParentTag","el","tag","depth","tagName","parentNode","getCollapsedClientRect","selection","document","getSelection","rangeCount","getRangeAt","startContainer","getBoundingClientRect","node","rect"],"mappings":";;;;;AAAA,IAAMA,gBAAgB,SAAhBA,aAAgB,CAACC,EAAD,EAAKC,GAAL,EAAwB;AAAA,QAAdC,KAAc,uEAAN,CAAM;;AAC1C,QAAI,CAACF,EAAL,EAAS,OAAO,IAAP;AACT,QAAIA,GAAGG,OAAH,IAAcF,GAAlB,EAAuB,OAAOD,EAAP;AACvB,WAAOD,cAAcC,GAAGI,UAAjB,EAA6BH,GAA7B,EAAkCC,QAAQ,CAA1C,CAAP;AACH,CAJD;;AAMO,IAAMG,0DAAyB,SAAzBA,sBAAyB,GAAM;AACxC,QAAMC,YAAYC,SAASC,YAAT,EAAlB;AACA,QACIF,UAAUG,UAAV,KAAyB,CAAzB,IACA,CAACH,UAAUI,UADX,IAEA,CAACJ,UAAUI,UAAV,CAAqB,CAArB,CAFD,IAGA,CAACJ,UAAUI,UAAV,CAAqB,CAArB,EAAwBC,cAHzB,IAIA,CAACL,UAAUI,UAAV,CAAqB,CAArB,EAAwBC,cAAxB,CAAuCC,qBAL5C,EAME;AACE,eAAO,IAAP;AACH;;AAED,QAAMC,OAAOP,UAAUI,UAAV,CAAqB,CAArB,EAAwBC,cAArC;AACA,QAAI,CAACZ,cAAcc,IAAd,EAAoB,GAApB,CAAL,EAA+B,OAbS,CAaD;;AAEvC,QAAMC,OAAOD,KAAKD,qBAAL,EAAb;AACA,WAAOE,IAAP;AACH,CAjBM","file":"Helpers.js","sourcesContent":["const findParentTag = (el, tag, depth = 0) => {\n    if (!el) return null;\n    if (el.tagName == tag) return el;\n    return findParentTag(el.parentNode, tag, depth + 1);\n};\n\nexport const getCollapsedClientRect = () => {\n    const selection = document.getSelection();\n    if (\n        selection.rangeCount === 0 ||\n        !selection.getRangeAt ||\n        !selection.getRangeAt(0) ||\n        !selection.getRangeAt(0).startContainer ||\n        !selection.getRangeAt(0).startContainer.getBoundingClientRect\n    ) {\n        return null;\n    }\n\n    const node = selection.getRangeAt(0).startContainer;\n    if (!findParentTag(node, 'P')) return; // only show sidebar at the beginning of an empty <p>\n\n    const rect = node.getBoundingClientRect();\n    return rect;\n};\n"]}