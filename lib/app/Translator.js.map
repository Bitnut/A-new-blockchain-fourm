{"version":3,"sources":["../../src/app/Translator.js"],"names":["en","es","ru","fr","it","ko","zh","pl","ja","tt","registerTranslations","require","process","env","NODE_ENV","setFallbackLocale","Translator","language","props","locale","setLocale","DEFAULT_LANGUAGE","children","React","Component","state","ownProps","app","getIn","FormattedHTMLMessage","id","params","className","__html"],"mappings":"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","file":"Translator.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { IntlProvider, addLocaleData } from 'react-intl';\nimport en from 'react-intl/locale-data/en';\nimport es from 'react-intl/locale-data/es';\nimport ru from 'react-intl/locale-data/ru';\nimport fr from 'react-intl/locale-data/fr';\nimport it from 'react-intl/locale-data/it';\nimport ko from 'react-intl/locale-data/ko';\nimport zh from 'react-intl/locale-data/zh';\nimport pl from 'react-intl/locale-data/pl';\nimport ja from 'react-intl/locale-data/ja';\nimport { DEFAULT_LANGUAGE } from 'app/client_config';\nimport tt from 'counterpart';\n\naddLocaleData([...en, ...es, ...ru, ...fr, ...it, ...ko, ...zh, ...pl, ...ja]);\n\ntt.registerTranslations('en', require('counterpart/locales/en'));\ntt.registerTranslations('en', require('app/locales/en.json'));\n\ntt.registerTranslations('es', require('app/locales/counterpart/es'));\ntt.registerTranslations('es', require('app/locales/es.json'));\n\ntt.registerTranslations('ru', require('counterpart/locales/ru'));\ntt.registerTranslations('ru', require('app/locales/ru.json'));\n\ntt.registerTranslations('fr', require('app/locales/counterpart/fr'));\ntt.registerTranslations('fr', require('app/locales/fr.json'));\n\ntt.registerTranslations('it', require('app/locales/counterpart/it'));\ntt.registerTranslations('it', require('app/locales/it.json'));\n\ntt.registerTranslations('ko', require('app/locales/counterpart/ko'));\ntt.registerTranslations('ko', require('app/locales/ko.json'));\n\ntt.registerTranslations('zh', require('app/locales/counterpart/zh'));\ntt.registerTranslations('zh', require('app/locales/zh.json'));\n\ntt.registerTranslations('pl', require('app/locales/counterpart/pl'));\ntt.registerTranslations('pl', require('app/locales/pl.json'));\n\ntt.registerTranslations('ja', require('app/locales/counterpart/ja'));\ntt.registerTranslations('ja', require('app/locales/ja.json'));\n\nif (process.env.NODE_ENV === 'production') {\n    tt.setFallbackLocale('en');\n}\n\nclass Translator extends React.Component {\n    render() {\n        const language = this.props.locale;\n        tt.setLocale(language);\n        return (\n            <IntlProvider\n                // to ensure dynamic language change, \"key\" property with same \"locale\" info must be added\n                // see: https://github.com/yahoo/react-intl/wiki/Components#multiple-intl-contexts\n                key={language}\n                locale={language}\n                defaultLocale={DEFAULT_LANGUAGE}\n            >\n                {this.props.children}\n            </IntlProvider>\n        );\n    }\n}\n\nexport default connect((state, ownProps) => {\n    const locale = state.app.getIn(['user_preferences', 'locale']);\n    return { ...ownProps, locale };\n})(Translator);\n\nexport const FormattedHTMLMessage = ({ id, params, className }) => (\n    <div\n        className={'FormattedHTMLMessage' + (className ? ` ${className}` : '')}\n        dangerouslySetInnerHTML={{ __html: tt(id, params) }}\n    />\n);\n"]}