{"version":3,"sources":["../../src/app/ResolveRoute.js"],"names":["resolveRoute","routeRegex","PostsIndex","UserProfile1","UserProfile2","UserProfile3","UserEndPoints","CategoryFilters","PostNoCategory","Post","PostJson","UserJson","UserNameJson","path","page","params","process","env","NODE_ENV","OFFLINE_SSR_TEST","match","GDPRUserList","includes","substring","slice"],"mappings":"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","file":"ResolveRoute.js","sourcesContent":["import GDPRUserList from './utils/GDPRUserList';\n\nexport const routeRegex = {\n    PostsIndex: /^\\/(@[\\w\\.\\d-]+)\\/feed\\/?$/,\n    UserProfile1: /^\\/(@[\\w\\.\\d-]+)\\/?$/,\n    UserProfile2: /^\\/(@[\\w\\.\\d-]+)\\/(blog|posts|comments|recommended|transfers|curation-rewards|author-rewards|permissions|created|recent-replies|feed|password|followed|followers|settings)\\/?$/,\n    UserProfile3: /^\\/(@[\\w\\.\\d-]+)\\/[\\w\\.\\d-]+/,\n    UserEndPoints: /^(blog|posts|comments|recommended|transfers|curation-rewards|author-rewards|permissions|created|recent-replies|feed|password|followed|followers|settings)$/,\n    CategoryFilters: /^\\/(hot|votes|responses|trending|trending30|promoted|cashout|payout|payout_comments|created|active)\\/?$/gi,\n    PostNoCategory: /^\\/(@[\\w\\.\\d-]+)\\/([\\w\\d-]+)/,\n    Post: /^\\/([\\w\\d\\-\\/]+)\\/(\\@[\\w\\d\\.-]+)\\/([\\w\\d-]+)\\/?($|\\?)/,\n    PostJson: /^\\/([\\w\\d\\-\\/]+)\\/(\\@[\\w\\d\\.-]+)\\/([\\w\\d-]+)(\\.json)$/,\n    UserJson: /^\\/(@[\\w\\.\\d-]+)(\\.json)$/,\n    UserNameJson: /^.*(?=(\\.json))/,\n};\n\nexport default function resolveRoute(path) {\n    if (path === '/') {\n        return { page: 'PostsIndex', params: ['trending'] };\n    }\n    if (path === '/about.html') {\n        return { page: 'About' };\n    }\n    if (path === '/welcome') {\n        return { page: 'Welcome' };\n    }\n    if (path === '/faq.html') {\n        return { page: 'Faq' };\n    }\n    if (path === '/login.html') {\n        return { page: 'Login' };\n    }\n    if (path === '/privacy.html') {\n        return { page: 'Privacy' };\n    }\n    if (path === '/support.html') {\n        return { page: 'Support' };\n    }\n    if (path === '/xss/test' && process.env.NODE_ENV === 'development') {\n        return { page: 'XSSTest' };\n    }\n    if (path === '/benchmark' && process.env.OFFLINE_SSR_TEST) {\n        return { page: 'Benchmark' };\n    }\n    if (path.match(/^\\/tags\\/?/)) {\n        return { page: 'Tags' };\n    }\n    if (path === '/tos.html') {\n        return { page: 'Tos' };\n    }\n    if (path === '/change_password') {\n        return { page: 'ChangePassword' };\n    }\n    if (path === '/create_account') {\n        return { page: 'CreateAccount' };\n    }\n    if (path === '/approval') {\n        return { page: 'Approval' };\n    }\n    if (path === '/recover_account_step_1') {\n        return { page: 'RecoverAccountStep1' };\n    }\n    if (path === '/recover_account_step_2') {\n        return { page: 'RecoverAccountStep2' };\n    }\n    if (path === '/waiting_list.html') {\n        return { page: 'WaitingList' };\n    }\n    if (path === '/market') {\n        return { page: 'Market' };\n    }\n    if (path === '/~witnesses') {\n        return { page: 'Witnesses' };\n    }\n    if (path === '/submit.html') {\n        return { page: 'SubmitPost' };\n    }\n    let match = path.match(routeRegex.PostsIndex);\n    if (match) {\n        if (GDPRUserList.includes(match[1].substring(1))) {\n            return { page: 'NotFound' };\n        }\n        return { page: 'PostsIndex', params: ['home', match[1]] };\n    }\n    match =\n        path.match(routeRegex.UserProfile1) ||\n        // @user/\"posts\" is deprecated in favor of \"comments\" as of oct-2016 (#443)\n        path.match(routeRegex.UserProfile2);\n    if (match) {\n        if (GDPRUserList.includes(match[1].substring(1))) {\n            return { page: 'NotFound' };\n        }\n        return { page: 'UserProfile', params: match.slice(1) };\n    }\n    match = path.match(routeRegex.PostNoCategory);\n    if (match) {\n        if (GDPRUserList.includes(match[1].substring(1))) {\n            return { page: 'NotFound' };\n        }\n        return { page: 'PostNoCategory', params: match.slice(1) };\n    }\n    match = path.match(routeRegex.Post);\n    if (match) {\n        if (GDPRUserList.includes(match[2].substring(1))) {\n            return { page: 'NotFound' };\n        }\n        return { page: 'Post', params: match.slice(1) };\n    }\n    match =\n        path.match(\n            /^\\/(hot|votes|responses|trending|trending30|promoted|cashout|payout|payout_comments|created|active)\\/?$/\n        ) ||\n        path.match(\n            /^\\/(hot|votes|responses|trending|trending30|promoted|cashout|payout|payout_comments|created|active)\\/([\\w\\d-]+)\\/?$/\n        );\n    if (match) {\n        return { page: 'PostsIndex', params: match.slice(1) };\n    }\n    return { page: 'NotFound' };\n}\n"]}